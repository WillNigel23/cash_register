<%= form_with url: cart_path(@current_cart), method: :patch, data: { turbo: true }, class: "bg-white shadow rounded p-4 flex flex-col justify-between h-full", id: dom_id(product) do |f| %>
  <%= f.hidden_field "cart[product_id]", value: product.id %>

  <strong class="text-lg font-semibold"><%= product.name %></strong>
  <p class="text-gray-700"><%= formatted_price(product.price) %></p>
  <p class="text-gray-600 text-sm"><%= product.description %></p>

  <div class="flex items-center space-x-2 mt-2" data-controller="quantity">
    <button type="button" class="bg-gray-200 px-2 rounded" data-action="click->quantity#decrease">-</button>
    <span data-quantity-target="counter" class="px-2"><%= 1 %></span>
    <%= f.hidden_field "cart[quantity]", value: 1, data: { quantity_target: "input" } %>
    <button type="button" class="bg-gray-200 px-2 rounded" data-action="click->quantity#increase">+</button>
  </div>

  <%= f.submit t("buttons.add_to_cart"), class: "bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mt-2" %>
<% end %>
